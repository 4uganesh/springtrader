<!DOCTYPE HTML>
<html lang="en">
    <head>
        <script type='text/javascript' src='/js/jquery-1.5.2.js'></script>
        <script type='text/javascript' src='/js/underscore.js'></script>
        <script type='text/javascript' src='/js/backbone.js'></script>
        <script type='text/javascript' src='/js/models.js'></script>
        <link rel="stylesheet" type="text/css" href="/css/index.css">
        <title>Nanotrader Backbone.js</title>
        <script>
            var consoleContainer = null;
            var LOG_INFO = 'info';
            var LOG_SUCCESS = 'success';
            var LOG_ERROR = 'error';
            var ACCOUNT_ID = 12;
            $(document).ready(function(){
                consoleContainer = $('#console');
                var account = new Account({accountid : ACCOUNT_ID});
                account.fetch({
                        success : function(model){
                            log(LOG_SUCCESS, 'Successfully fetched Account Object with id[' + ACCOUNT_ID + ']');
                            console.log(model);
                            log(LOG_INFO, 'Creating new Account...');
                            /*
                            var newAccount = new Account({
                            
                            });
                            /*
                            // PUT is currently not working
                            var logincount = Math.floor(Math.random()*11);
                            log(LOG_INFO, 'Updating logincount to: ' + logincount);
                            model.set("logincount", logincount);
                            model.save({
                                success : function(model){
                                    log(LOG_SUCCESS, 'Account Object with id[' + ACCOUNT_ID + '] successfully updated.');
                                },
                                error: function(model, error){
                                    log(LOG_ERROR, 'Unable to update Account Object with id[' + ACCOUNT_ID + ']: ' + error.responseText);
                                },
                            });
                            */
                        },
                        error : function(model, error){
                            log(LOG_ERROR, 'Unable to fetch Account Object with id[' + ACCOUNT_ID + ']: ' + error.responseText);
                        }
                    });
               //var account2 = new Account
            });
            function log(type, message){
                if (consoleContainer)
                {
                    consoleContainer.append(
                    '<div class="line ' + type + '">\
                        <span class="type">' + type + ': </span>\
                        <span>' + message + '</span>\
                     </div>'
                    );
                }
            }
        </script>
    </head>
    <body>
    <h1>Hello Nano TESTS</h1>
    <div>
        <h3>Console</h3>
        <div id="console">
        </div>
    </div>
    </body>
</html>